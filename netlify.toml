# Netlify configuration for Confluent FE

[build]
  publish = "dist"
  command = "npm run build"

# ===================================
# External API Proxies (office.uds.com.vn)
# ===================================

[[redirects]]
  from = "/api/pmcc/v1/auth/*"
  to = "https://office.uds.com.vn/api/pmcc/v1/auth/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/api/pmcc/v1/employees/*"
  to = "https://office.uds.com.vn/api/pmcc/v1/employees/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/api/pmcc/v1/profiles/*"
  to = "https://office.uds.com.vn/api/pmcc/v1/profiles/:splat"
  status = 200
  force = true

# ===================================
# Local Backend API Proxies
# NOTE: Replace YOUR_BACKEND_URL with your actual deployed backend URL
# Example: https://your-backend.herokuapp.com or https://api.yourdomain.com
# ===================================

# [[redirects]]
#   from = "/api/pmcc/v1/dashboard/*"
#   to = "YOUR_BACKEND_URL/api/dashboard/:splat"
#   status = 200
#   force = true

# [[redirects]]
#   from = "/api/pmcc/v1/tasks/*"
#   to = "YOUR_BACKEND_URL/api/tasks/:splat"
#   status = 200
#   force = true

# [[redirects]]
#   from = "/api/pmcc/v1/projects/*"
#   to = "YOUR_BACKEND_URL/api/projects/:splat"
#   status = 200
#   force = true

# [[redirects]]
#   from = "/api/pmcc/v1/users/*"
#   to = "YOUR_BACKEND_URL/api/users/:splat"
#   status = 200
#   force = true

# [[redirects]]
#   from = "/api/pmcc/v1/type-tasks/*"
#   to = "YOUR_BACKEND_URL/api/type-tasks/:splat"
#   status = 200
#   force = true

# [[redirects]]
#   from = "/api/pmcc/v1/task-groups/*"
#   to = "YOUR_BACKEND_URL/api/task-groups/:splat"
#   status = 200
#   force = true

# ===================================
# SPA Fallback (React Router)
# This must be the LAST redirect rule
# ===================================

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
